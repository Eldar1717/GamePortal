<!DOCTYPE html>
<html>
  <head>
    <title>GamePortal</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>
  <body>
    <nav style="background: #333; padding: 1rem; color: white;">
      <strong>GamePortal</strong>
      <div style="float: right;">
        <% if user_signed_in? %>
          Вы вошли как: <%= current_user.email %>
          <%= link_to "Выйти", destroy_user_session_path, data: { turbo_method: :delete }, style: "color: white; margin-left: 1rem;" %>
        <% else %>
          <%= link_to "Войти", new_user_session_path, style: "color: white; margin-right: 1rem;" %>
          <%= link_to "Регистрация", new_user_registration_path, style: "color: white;" %>
        <% end %>
      </div>
    </nav>

    <div style="padding: 2rem;">
      <% if notice %>
        <div style="background: #d4edda; color: #155724; padding: 0.75rem; border: 1px solid #c3e6cb; border-radius: 0.25rem; margin-bottom: 1rem;">
          <%= notice %>
        </div>
      <% end %>

      <% if alert %>
        <div style="background: #f8d7da; color: #721c24; padding: 0.75rem; border: 1px solid #f5c6cb; border-radius: 0.25rem; margin-bottom: 1rem;">
          <%= alert %>
        </div>
      <% end %>

      <%= yield %>
    </div>
  </body>
</html>
